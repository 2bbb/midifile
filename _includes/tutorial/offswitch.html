
<a name="offswitch"> </a>
<details class="tutorial-entry" ontoggle="showSingleTut(event, this);">

<summary class="tutorial-title">
	Changing note-off message styles
</summary>

The MIDI protocol allows two types of note-off messages: (1) using the 
a command byte starting with the hex digit "8" which indicates a note
off for a given key with a given off-velocity, and (2) using note-on
commands, setting the attack velocity to 0.  

The following program can convert between these two different styles.
The default behavior is to conver all to "8" style note-offs.  If
the <tt>-0</tt> option is used, the note-offs will be converted
into the "9" style note-off message which use a zero attack velocity
within a note-on message.

``` cpp
{% include tutorial/code/offswitch.cpp %}
```

Library functions used in this example:

<ul class="function-list">
<li class="docslot"> MidiFile::read </li>
<li class="docslot"> MidiFile::getTrackCount </li>
<li class="docslot"> MidiFile::getEventCount </li>
<li class="docslot"> MidiFile::write </li>
<li class="docslot"> MidiMessage::isNoteOff </li>
<li class="docslot"> MidiMessage::setCommandNibble </li>
<li class="docslot"> Options::process </li>
<li class="docslot"> Options::getBoolean </li>
<li class="docslot"> Options::getArgCount </li>
<li class="docslot"> Options::getCommand </li>
<li class="docslot"> Options::getArg </li>
</ul>


</details>


